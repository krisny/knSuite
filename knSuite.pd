#N canvas 678 115 1628 1175 12;
#N canvas 224 693 1499 425 pulse 0;
#X obj 55 121 phasor~;
#X obj 55 173 send~ pulse;
#X obj 55 44 r loopfrekvens_sekunder;
#X floatatom 74 74 5 0 0 0 - - -;
#X obj 337 212 threshold~ 0;
#X obj 337 187 fexpr~ $x1[-1] - $x1[0];
#X obj 337 237 send loopstart;
#X obj 668 86 *~;
#X obj 668 179 threshold~ 0;
#X obj 668 154 fexpr~ $x1[-1] - $x1[0];
#X obj 668 110 wrap~;
#X obj 668 204 send periodictrigger;
#X obj 686 51 receive subdivisions;
#X floatatom 617 56 5 0 0 0 - - -;
#X obj 589 105 +~ 0.02;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 0 0 14 0;
#X connect 2 0 0 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 7 1;
#X connect 13 0 14 1;
#X connect 14 0 7 0;
#X restore 63 72 pd pulse;
#N canvas 1319 59 970 903 test 0;
#X obj 37 685 throw~ test;
#X obj 71 33 receive~ pulse;
#X obj 53 446 *~, f 12;
#X obj 29 566 tabread4~ /audiobuffer1;
#X obj 138 399 r loopperiode_samples;
#X obj 287 566 tabread4~ /audiobuffer2;
#X obj 723 13 ctlin;
#X floatatom 548 269 5 0 0 0 - - -;
#X obj 95 83 +~;
#X obj 552 321 vline~;
#X obj 67 409 wrap~;
#X obj 554 213 -;
#N canvas 1009 1009 450 300 speedlim 0;
#X obj 46 8 inlet;
#X obj 46 154 spigot;
#X obj 46 202 outlet;
#X obj 81 89 timer;
#X obj 179 16 loadbang;
#X obj 61 64 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 81 113 >= 30;
#X obj 46 178 t list b, f 18;
#X obj 46 32 t list b;
#X connect 0 0 8 0;
#X connect 1 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 8 0 1 0;
#X connect 8 1 3 1;
#X restore 537 128 pd speedlim;
#X floatatom 539 97 5 0 0 0 - - -;
#X msg 548 292 \$1 150 \, 0 0 100;
#X obj 548 245 * 0.015;
#X obj 724 42 pack 0 0;
#X msg 724 89 \$2 \$1;
#X obj 130 302 +~;
#X obj 724 113 route 41 42;
#X floatatom 760 289 5 0 0 0 - - -;
#X floatatom 761 148 5 0 0 0 - - -;
#X obj 761 171 / 127;
#X obj 761 195 - 0.5;
#X msg 760 312 \$1 100;
#X obj 759 344 line~;
#X text 590 170 scratching;
#X text 803 288 loop_offset;
#X obj 761 219 expr abs($f1)*$f1/0.5;
#X obj 760 253 expr if(abs($f1)>0.005 \, $f1 \, 0);
#X obj 538 166 t f f;
#X obj 200 701 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 417 704 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 49 496 *~;
#X obj 249 487 *~;
#X obj 205 673 r buffer1loop;
#X obj 422 676 r buffer2loop;
#X obj 140 784 snapshot~;
#X obj 113 750 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 140 808 12 0 0 0 - - -;
#X text 629 426 scratching and loop offset is disaled;
#X text 61 424 /;
#X text 88 66 comment;
#X connect 1 0 2 0;
#X connect 2 0 34 0;
#X connect 2 0 33 0;
#X connect 3 0 0 0;
#X connect 4 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 16 0;
#X connect 6 1 16 1;
#X connect 7 0 14 0;
#X connect 8 0 18 0;
#X connect 9 0 8 1;
#X connect 11 0 15 0;
#X connect 12 0 30 0;
#X connect 13 0 12 0;
#X connect 14 0 9 0;
#X connect 15 0 7 0;
#X connect 17 0 19 0;
#X connect 18 0 10 0;
#X connect 19 0 13 0;
#X connect 19 1 21 0;
#X connect 20 0 24 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 28 0;
#X connect 24 0 25 0;
#X connect 25 0 18 1;
#X connect 28 0 29 0;
#X connect 29 0 20 0;
#X connect 30 0 11 1;
#X connect 30 1 11 0;
#X connect 31 0 33 1;
#X connect 32 0 34 1;
#X connect 33 0 37 0;
#X connect 33 0 3 0;
#X connect 34 0 5 0;
#X connect 35 0 31 0;
#X connect 36 0 32 0;
#X connect 37 0 39 0;
#X connect 38 0 37 0;
#X restore 663 445 pd test;
#N canvas 1063 41 1496 1139 buffersetup 0;
#X obj 36 40 receive loopperiode_samples;
#X msg 36 98 \; /audiobuffer1 resize \$1;
#X obj 36 215 table /audiobuffer1 88200;
#X msg 514 98 \; /audiobuffer2 resize \$1;
#X obj 539 213 table /audiobuffer2 88200;
#X obj 927 182 soundfiler;
#X text 968 111 load sound file;
#X obj 927 125 symbol;
#N canvas 0 23 644 287 select-sample 0;
#X msg 62 91 piano.wav;
#X msg 158 91 melodius.wav;
#X msg 255 91 beat.wav;
#X msg 351 91 humanistiske.wav;
#X obj 62 63 sel 0 1 2 3 4, f 81;
#X msg 461 91 bass.wav;
#X obj 62 192 outlet;
#X obj 62 27 inlet;
#X connect 0 0 6 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 4 2 2 0;
#X connect 4 3 3 0;
#X connect 4 4 5 0;
#X connect 5 0 6 0;
#X connect 7 0 4 0;
#X restore 927 88 pd select-sample;
#X msg 927 148 read \$1 /audiobuffer2;
#X msg 540 316 \; /audiobuffer2 const 0;
#X msg 1200 85 100bpm44p1k2bars.wav;
#X msg 1202 122 100bpm48k2bars.wav;
#X msg 1198 156 120bpm44p1k2bars.wav;
#X msg 1205 206 120bpm48k2bars.wav;
#X obj 1018 288 adc~, f 7;
#X msg 32 323 \; /audiobuffer1 const 0;
#X text 309 503 toggle record;
#X obj 290 505 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 532 467 kns_recordToBuffer /audiobuffer2;
#X text 772 436 toggle record;
#X obj 753 439 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 41 561 kns_recordToBuffer /audiobuffer1;
#X obj 753 414 r recordBuffer2;
#X obj 290 478 r recordBuffer1;
#X obj 89 300 r clearBuffer1;
#X obj 540 291 r clearBuffer2;
#X obj 41 398 receive~ adc1;
#X obj 1010 354 send~ adc1;
#X obj 531 428 receive~ adc2;
#X obj 1066 320 send~ adc2;
#X obj 82 728 receive recordBuffer1next;
#X obj 43 704 receive loopstart;
#X obj 43 820 spigot;
#X obj 82 789 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 43 857 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 43 769 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 43 880 t b 0, f 17;
#X obj 43 907 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 43 960 s recordBuffer1;
#X obj 542 569 receive loopstart;
#X obj 542 685 spigot;
#X obj 581 654 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 542 722 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 542 634 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 542 745 t b 0, f 17;
#X obj 542 772 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 542 798 s recordBuffer1;
#X obj 581 593 receive recordBuffer2next;
#X obj 192 1040 ctlout, f 16;
#X msg 198 969 0 9 1;
#X obj 192 931 sel 0 1;
#X obj 270 919 sel 1;
#X obj 699 874 ctlout, f 16;
#X obj 708 745 sel 0 1;
#X obj 786 733 sel 1;
#X msg 714 783 0 10 1;
#X obj 131 796 s recordBufferNextActive;
#X obj 67 493 catch~ adc1pdfx;
#X obj 45 469 *~;
#X obj 227 370 r recordBufferNextActive;
#X obj 145 426 == 0;
#X obj 90 460 line~;
#X obj 168 524 *~;
#X msg 95 433 \$1 10;
#X floatatom 227 394 5 0 0 0 - - -;
#X msg 188 394 0;
#X obj 165 366 loadbang;
#X obj 193 485 line~;
#X msg 198 458 \$1 10, f 6;
#X msg 249 971 52 9 1;
#X msg 322 970 1 9 1;
#X msg 765 785 52 10 1;
#X msg 838 784 1 10 1;
#X obj 474 1100 send toMMPkeys;
#X obj 474 1065 pack f f f, f 18;
#X obj 474 1000 expr $i2 \; ($i1 > 0) * 127 \; $i3, f 18;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 7 0;
#X connect 15 0 28 0;
#X connect 15 1 30 0;
#X connect 18 0 22 1;
#X connect 21 0 19 1;
#X connect 23 0 21 0;
#X connect 24 0 18 0;
#X connect 25 0 16 0;
#X connect 26 0 10 0;
#X connect 27 0 59 0;
#X connect 29 0 19 0;
#X connect 31 0 34 0;
#X connect 32 0 36 0;
#X connect 33 0 35 0;
#X connect 34 0 33 1;
#X connect 34 0 52 0;
#X connect 34 0 57 0;
#X connect 35 0 37 0;
#X connect 36 0 33 0;
#X connect 37 0 38 0;
#X connect 37 1 34 0;
#X connect 38 0 39 0;
#X connect 38 0 51 0;
#X connect 40 0 44 0;
#X connect 41 0 43 0;
#X connect 42 0 41 1;
#X connect 42 0 55 0;
#X connect 43 0 45 0;
#X connect 44 0 41 0;
#X connect 45 0 46 0;
#X connect 45 1 42 0;
#X connect 46 0 47 0;
#X connect 46 0 54 0;
#X connect 48 0 42 0;
#X connect 50 0 49 0;
#X connect 50 0 76 0;
#X connect 51 0 50 0;
#X connect 51 1 70 0;
#X connect 52 0 71 0;
#X connect 54 0 56 0;
#X connect 54 1 72 0;
#X connect 55 0 73 0;
#X connect 56 0 53 0;
#X connect 56 0 76 0;
#X connect 58 0 63 0;
#X connect 59 0 22 0;
#X connect 60 0 65 0;
#X connect 61 0 64 0;
#X connect 62 0 59 1;
#X connect 63 0 22 0;
#X connect 64 0 62 0;
#X connect 65 0 61 0;
#X connect 65 0 69 0;
#X connect 66 0 65 0;
#X connect 67 0 66 0;
#X connect 68 0 63 1;
#X connect 69 0 68 0;
#X connect 70 0 49 0;
#X connect 71 0 49 0;
#X connect 71 0 76 0;
#X connect 72 0 53 0;
#X connect 73 0 53 0;
#X connect 73 0 76 0;
#X connect 75 0 74 0;
#X connect 76 0 75 0;
#X connect 76 1 75 1;
#X connect 76 2 75 2;
#X restore 285 65 pd buffersetup;
#X obj 133 706 dac~;
#X obj 583 485 catch~ test;
#X text 856 47 todo (file read samplerate);
#N canvas 396 40 826 683 window-stuff 0;
#X obj 83 96 + 1;
#X obj 103 278 route 1;
#X obj 103 254 pack, f 7;
#X obj 142 375 pack, f 8;
#X msg 142 303 \$2;
#X obj 142 353 > 383;
#X obj 103 232 < 129;
#X obj 142 400 route 1;
#X obj 181 424 t b;
#X msg 153 477 1;
#X obj 103 442 / 511;
#X obj 103 481 * 2;
#X obj 116 151 < 512;
#X obj 83 178 spigot;
#X obj 84 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 2 133 del 1;
#X obj 169 69 sel 0;
#X msg 169 116 -1;
#X obj 83 59 i -1;
#X obj 169 93 del 1;
#X obj 103 566 expr if ($i2 \, sqrt($f1) \, $f1);
#X obj 264 546 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 283 546 toggle to enable sqrt of hanning;
#X text 102 9 bang to write window;
#X obj 83 207 t b f f f, f 13;
#X obj 83 124 t f f;
#X obj 142 326 t f f, f 8;
#X obj 102 606 tabwrite window;
#N canvas 0 22 635 415 (subpatch) 0;
#X array window 512 float 1;
#A 0 0 0.000151157 0.00060457 0.00135997 0.00241691 0.00377476 0.00543267
0.00738966 0.00964454 0.012196 0.0150424 0.0181821 0.0216131 0.0253334
0.0293408 0.0336328 0.0382068 0.04306 0.0481896 0.0535924 0.0592651
0.0652044 0.0714067 0.077868 0.0845847 0.0915525 0.0987674 0.106225
0.113921 0.12185 0.130007 0.138389 0.146989 0.155803 0.164825 0.174049
0.183471 0.193084 0.202882 0.212861 0.223012 0.233332 0.243813 0.254448
0.265232 0.276158 0.28722 0.29841 0.309722 0.321149 0.332684 0.344321
0.356051 0.367869 0.379766 0.391736 0.403772 0.415866 0.428011 0.440199
0.452423 0.464677 0.476951 0.48924 0.501535 0.513829 0.526115 0.538385
0.550631 0.562847 0.575025 0.587158 0.599238 0.611258 0.623211 0.635089
0.646886 0.658593 0.670205 0.681714 0.693113 0.704395 0.715554 0.726582
0.737473 0.748221 0.758818 0.76926 0.779538 0.789647 0.799581 0.809334
0.818899 0.828272 0.837447 0.846417 0.855178 0.863724 0.87205 0.880151
0.888023 0.895659 0.903057 0.91021 0.917116 0.923769 0.930166 0.936303
0.942176 0.947782 0.953117 0.958178 0.962961 0.967465 0.971686 0.975622
0.979271 0.982629 0.985696 0.988469 0.990946 0.993127 0.995009 0.996592
0.997875 0.998857 0.999537 0.999915 0.999991 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 0.999915 0.999537 0.998857 0.997876 0.996593 0.99501 0.993128
0.990948 0.988471 0.985698 0.982631 0.979273 0.975625 0.971689 0.967468
0.962965 0.958181 0.95312 0.947786 0.94218 0.936307 0.93017 0.923774
0.917121 0.910215 0.903062 0.895665 0.888029 0.880157 0.872056 0.86373
0.855184 0.846424 0.837454 0.828279 0.818907 0.80934 0.799588 0.789654
0.779545 0.769267 0.758826 0.748229 0.737482 0.72659 0.715562 0.704403
0.693121 0.681723 0.670214 0.658602 0.646895 0.635098 0.62322 0.611267
0.599247 0.587167 0.575035 0.562857 0.55064 0.538393 0.526124 0.513838
0.501544 0.489249 0.476961 0.464686 0.452432 0.440208 0.42802 0.415875
0.403781 0.391746 0.379775 0.367877 0.35606 0.344329 0.332693 0.321158
0.309731 0.298419 0.287228 0.276166 0.26524 0.254456 0.24382 0.23334
0.22302 0.212868 0.202889 0.193091 0.183478 0.174056 0.164831 0.15581
0.146996 0.138395 0.130013 0.121855 0.113926 0.106231 0.098773 0.091558
0.0845895 0.0778727 0.0714112 0.0652089 0.0592695 0.0535966 0.0481936
0.0430635 0.0382101 0.0336359 0.0293438 0.0253363 0.0216157 0.0181845
0.0150445 0.0121979 0.00964627 0.00739118 0.00543401 0.00377586 0.0024178
0.00136065 0.000604987 0.000151366 0;
#X coords 0 1 511 0 100 50 1 0 0;
#X restore 292 84 graph;
#X obj 369 428 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));
#X obj 103 516 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));
#X connect 0 0 18 1;
#X connect 0 0 25 0;
#X connect 1 0 10 0;
#X connect 1 1 4 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 26 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 7 0 10 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 27 0;
#X connect 10 0 11 0;
#X connect 11 0 30 0;
#X connect 12 0 13 1;
#X connect 12 0 16 0;
#X connect 13 0 24 0;
#X connect 14 0 18 0;
#X connect 15 0 18 0;
#X connect 16 0 19 0;
#X connect 17 0 18 1;
#X connect 18 0 0 0;
#X connect 19 0 17 0;
#X connect 20 0 27 0;
#X connect 21 0 20 1;
#X connect 24 0 15 0;
#X connect 24 1 6 0;
#X connect 24 2 2 1;
#X connect 24 3 27 1;
#X connect 25 0 13 0;
#X connect 25 1 12 0;
#X connect 26 0 5 0;
#X connect 26 1 3 1;
#X connect 30 0 20 0;
#X restore 285 185 pd window-stuff;
#N canvas 996 408 1301 670 control_ranges 0;
#X obj 83 20 ctlin;
#X obj 80 61 pack 0 0 0;
#X msg 80 85 \$3 \$2 \$1;
#X floatatom 77 339 5 0 0 0 - - -;
#X obj 78 376 expr loopperiode_samples * $f1/127;
#X floatatom 357 290 5 0 0 0 - - -;
#X floatatom 357 369 12 0 0 0 - - -;
#X obj 358 327 expr loopperiode_samples * $f1/127/2;
#X obj 357 392 t b f;
#X obj 78 463 expr $f1-$f2 \; $f1+$f2;
#X obj 166 517 clip 1;
#X obj 256 453 r loopperiode_samples;
#X obj 256 477 - 1;
#X obj 78 519 clip 1;
#X obj 78 558 pack 0 0;
#X msg 78 582 \; ranges /audiobuffer range \$1 \$2;
#X floatatom 663 335 5 0 0 0 - - -;
#X floatatom 943 286 5 0 0 0 - - -;
#X floatatom 943 365 12 0 0 0 - - -;
#X obj 943 388 t b f;
#X obj 664 459 expr $f1-$f2 \; $f1+$f2;
#X obj 664 554 pack 0 0;
#X obj 77 194 route 21 22 23 24, f 140;
#X msg 664 578 \; ranges /durationrange range \$1 \$2;
#X obj 842 449 r loopperiode_ms;
#X floatatom 690 421 5 0 0 0 - - -;
#X obj 664 515 clip 1 1000;
#X obj 753 513 clip 1 1000;
#X floatatom 886 488 5 0 0 0 - - -;
#X obj 664 372 expr loopperiode_ms * pow(($f1/127) \, 2);
#X obj 944 323 expr loopperiode_ms * $f1/127/10;
#X obj 78 162 route 5;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 1 2;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 13 0;
#X connect 9 1 10 0;
#X connect 10 0 14 1;
#X connect 11 0 12 0;
#X connect 12 0 10 2;
#X connect 12 0 13 2;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 16 0 29 0;
#X connect 17 0 30 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 26 0;
#X connect 20 1 27 0;
#X connect 21 0 23 0;
#X connect 22 0 3 0;
#X connect 22 1 5 0;
#X connect 22 2 16 0;
#X connect 22 3 17 0;
#X connect 24 0 26 2;
#X connect 24 0 27 2;
#X connect 24 0 28 0;
#X connect 26 0 21 0;
#X connect 27 0 21 1;
#X connect 29 0 20 0;
#X connect 29 0 25 0;
#X connect 30 0 18 0;
#X connect 31 0 22 0;
#X restore 285 108 pd control_ranges;
#N canvas 156 171 2404 760 controls 0;
#X floatatom 396 82 5 0 0 0 subdivisions - subdivisions;
#X msg 396 46 32;
#X obj 396 21 loadbang;
#X msg 432 47 64;
#X msg 470 47 16;
#X msg 510 46 24;
#X msg 547 46 12;
#X floatatom 62 76 5 0 0 0 bpm - bpm;
#X floatatom 245 79 5 1 64 0 beats_in_loop - beats_in_loop;
#X obj 245 22 loadbang;
#X msg 245 46 8;
#X obj 62 24 loadbang;
#X msg 62 48 120;
#X floatatom 624 328 5 0 1 0 masterVolume - masterVolume;
#X obj 628 52 ctlin;
#X obj 625 93 pack 0 0 0;
#X msg 1200 32 -12 -5 7 12;
#X obj 1206 61 array set valid_pitchshifts;
#X obj 1187 127 array define -k -yrange -12 12 valid_pitchshifts 4
;
#A 0 -12 -5 7 12;
#X msg 336 152 \$2 \$1 \$3;
#X msg 335 213 \$1;
#X msg 394 215 \$1;
#X msg 455 214 \$1;
#X msg 523 212 \$1;
#X text 371 236 fire globale/felles;
#X msg 843 147 \$3 \$1 \$2;
#N canvas 619 437 1941 720 samplingcontroller 0;
#X obj 52 33 inlet;
#X floatatom 652 459 5 0 0 0 - - -;
#X floatatom 787 457 5 0 0 0 - - -;
#X obj 652 500 == 127;
#X obj 787 492 == 127;
#X msg 652 524 \; recordBuffer1 \$1;
#X msg 787 521 \; recordBuffer2 \$1;
#X obj 881 424 t b;
#X msg 881 448 \; clearBuffer1 bang;
#X obj 1019 374 t b;
#X msg 1019 398 \; clearBuffer2 bang;
#X obj 660 287 route 9 10 11 12 13 14 15 16, f 140;
#X obj 720 197 ctlout;
#X msg 720 139 \$2 \$1 5;
#X msg 1124 476 \; buffer1grains \$1;
#X msg 1262 426 \; buffer2grains \$1;
#X msg 1420 462 \; buffer1loop \$1;
#X msg 1558 411 \; buffer2loop \$1;
#X obj 1409 375 > 0;
#X obj 1501 345 > 0;
#X obj 1311 359 > 0;
#X obj 1177 352 > 0;
#X text 568 147 4 til grains;
#N canvas 107 586 1555 725 controlranges 0;
#X floatatom 75 218 5 0 0 0 - - -;
#X obj 76 255 expr loopperiode_samples * $f1/127;
#X floatatom 355 169 5 0 0 0 - - -;
#X floatatom 355 248 12 0 0 0 - - -;
#X obj 356 206 expr loopperiode_samples * $f1/127/2;
#X obj 355 271 t b f;
#X obj 76 342 expr $f1-$f2 \; $f1+$f2;
#X obj 164 396 clip 1;
#X obj 254 332 r loopperiode_samples;
#X obj 254 356 - 1;
#X obj 76 398 clip 1;
#X obj 76 437 pack 0 0;
#X msg 76 461 \; ranges /audiobuffer range \$1 \$2;
#X floatatom 661 214 5 0 0 0 - - -;
#X floatatom 941 165 5 0 0 0 - - -;
#X floatatom 941 244 12 0 0 0 - - -;
#X obj 941 267 t b f;
#X obj 662 338 expr $f1-$f2 \; $f1+$f2;
#X obj 662 433 pack 0 0;
#X msg 662 457 \; ranges /durationrange range \$1 \$2;
#X obj 840 328 r loopperiode_ms;
#X floatatom 688 300 5 0 0 0 - - -;
#X obj 662 394 clip 1 1000;
#X obj 751 392 clip 1 1000;
#X floatatom 884 367 5 0 0 0 - - -;
#X obj 662 251 expr loopperiode_ms * pow(($f1/127) \, 2);
#X obj 942 202 expr loopperiode_ms * $f1/127/10;
#X obj 91 103 inlet;
#X obj 369 104 inlet;
#X obj 666 118 inlet;
#X obj 945 112 inlet;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 10 0;
#X connect 6 1 7 0;
#X connect 7 0 11 1;
#X connect 8 0 9 0;
#X connect 9 0 7 2;
#X connect 9 0 10 2;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 25 0;
#X connect 14 0 26 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 17 0 22 0;
#X connect 17 1 23 0;
#X connect 18 0 19 0;
#X connect 20 0 22 2;
#X connect 20 0 23 2;
#X connect 20 0 24 0;
#X connect 22 0 18 0;
#X connect 23 0 18 1;
#X connect 25 0 17 0;
#X connect 25 0 21 0;
#X connect 26 0 15 0;
#X connect 27 0 0 0;
#X connect 28 0 2 0;
#X connect 29 0 13 0;
#X connect 30 0 14 0;
#X restore 51 132 pd controlranges;
#N canvas 131 791 814 527 controlsamplingvolumes 0;
#X floatatom 148 281 5 0 1 0 grains1Volume - grains1Volume;
#X floatatom 211 340 5 1 64 0 grains2Volume - grains2Volume;
#X floatatom 368 427 5 0 1 0 loop2Volume - loop2Volume;
#X obj 161 170 / 127;
#X obj 207 170 / 127;
#X obj 382 169 / 127;
#X obj 114 99 inlet;
#X obj 227 105 inlet;
#X obj 363 105 inlet;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X restore 221 183 pd controlsamplingvolumes;
#N canvas 191 836 1094 439 controlsamplingFX 0;
#X floatatom 93 320 5 0 1 0 grains1lopf - grains1lopf;
#X floatatom 323 334 5 1 64 0 grains2lopf - grains2lopf;
#X floatatom 495 336 5 0 1 0 loop2lopf - loop2lopf;
#X floatatom 715 317 5 0 1 0 grains1Delay - grains1Delay;
#X floatatom 888 238 5 1 64 0 grains2Delay - grains2Delay;
#X obj 671 220 / 127;
#X obj 906 116 / 127;
#X obj 95 90 inlet;
#X obj 316 79 inlet;
#X obj 452 92 inlet;
#X obj 673 77 inlet;
#X obj 906 83 inlet;
#N canvas 826 198 450 300 scalefilterfreq 0;
#X obj 49 32 inlet;
#X obj 42 197 outlet;
#X obj 49 56 / 127;
#X obj 49 111 *;
#X obj 49 135 * 20000;
#X obj 49 80 t f f;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 3 1;
#X restore 87 221 pd scalefilterfreq;
#N canvas 826 198 450 300 scalefilterfreq 0;
#X obj 49 32 inlet;
#X obj 42 197 outlet;
#X obj 49 56 / 127;
#X obj 49 111 *;
#X obj 49 135 * 20000;
#X obj 49 80 t f f;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 3 1;
#X restore 307 231 pd scalefilterfreq;
#N canvas 826 198 450 300 scalefilterfreq 0;
#X obj 49 32 inlet;
#X obj 42 197 outlet;
#X obj 49 56 / 127;
#X obj 49 111 *;
#X obj 49 135 * 20000;
#X obj 49 80 t f f;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 3 1;
#X restore 467 202 pd scalefilterfreq;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 12 0;
#X connect 8 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 5 0;
#X connect 11 0 6 0;
#X connect 12 0 0 0;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X restore 459 232 pd controlsamplingFX;
#X obj 54 88 route 21 22 23 24 25 26 41 45 46 42 43 44, f 87;
#X obj 1646 349 print no_match_1;
#X connect 0 0 26 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 11 0 1 0;
#X connect 11 1 2 0;
#X connect 11 2 7 0;
#X connect 11 3 9 0;
#X connect 11 4 21 0;
#X connect 11 5 20 0;
#X connect 11 6 18 0;
#X connect 11 7 19 0;
#X connect 11 8 27 0;
#X connect 13 0 12 0;
#X connect 18 0 16 0;
#X connect 19 0 17 0;
#X connect 20 0 15 0;
#X connect 21 0 14 0;
#X connect 26 0 23 0;
#X connect 26 1 23 1;
#X connect 26 2 23 2;
#X connect 26 3 23 3;
#X connect 26 4 24 0;
#X connect 26 5 24 1;
#X connect 26 6 24 2;
#X connect 26 7 25 0;
#X connect 26 8 25 1;
#X connect 26 9 25 2;
#X connect 26 10 25 3;
#X connect 26 11 25 4;
#X connect 26 12 11 0;
#X connect 26 12 13 0;
#X restore 825 272 pd samplingcontroller;
#X obj 840 177 route 5 1;
#X obj 259 291 / 127;
#X obj 389 382 / 127;
#X obj 449 313 / 127;
#X obj 523 270 / 127;
#X obj 449 337 s liveThru;
#X obj 389 406 s delayFeedback;
#X obj 261 383 s delayTime;
#X obj 258 350 + 1;
#X obj 260 323 * 800;
#X obj 335 187 route 27 47 28 48, f 36;
#N canvas 457 74 2103 614 livecontroller 0;
#X obj 51 33 inlet;
#X obj 968 193 t b;
#X obj 1144 206 t b;
#X text 525 192 4 til grains;
#X obj 1349 294 ctlout, f 16;
#X obj 1349 236 expr ($i2>1)*40 \; $i1 \; 1;
#N canvas 651 818 1653 534 controlsomething 0;
#X obj 287 113 inlet;
#X obj 561 113 inlet;
#X obj 68 105 inlet;
#X obj 795 122 inlet;
#X obj 1045 112 inlet;
#X floatatom 315 303 5 0 1 0 livelopf - livelopf;
#X floatatom 606 418 5 0 1 0 liveDelay - liveDelay;
#X obj 562 321 / 127;
#X floatatom 118 347 5 0 1 0 livedryVolume - livedryVolume;
#X obj 74 250 / 127;
#X floatatom 839 426 5 0 1 0 liveps1Volume - liveps1Volume;
#X obj 795 329 / 127;
#X floatatom 1108 408 5 0 1 0 liveps2Volume - liveps2Volume;
#X obj 1064 311 / 127;
#X obj 1210 109 inlet;
#X floatatom 1273 405 5 0 127 0 liveps1pitch - liveps1pitch;
#X obj 1394 111 inlet;
#X floatatom 1457 407 5 0 127 0 liveps2pitch - liveps2pitch;
#N canvas 826 198 450 300 scalefilterfreq 0;
#X obj 49 32 inlet;
#X obj 42 197 outlet;
#X obj 49 56 / 127;
#X obj 49 111 *;
#X obj 49 135 * 20000;
#X obj 49 80 t f f;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 3 1;
#X restore 287 193 pd scalefilterfreq;
#X connect 0 0 18 0;
#X connect 1 0 7 0;
#X connect 2 0 9 0;
#X connect 3 0 11 0;
#X connect 4 0 13 0;
#X connect 7 0 6 0;
#X connect 9 0 8 0;
#X connect 11 0 10 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 18 0 5 0;
#X restore 50 132 pd controlsomething;
#X f 44;
#X obj 50 88 route 21 22 23 24 25 44 45 26 41 46 42 43, f 87;
#X msg 968 217 \; clearBuffer1 bang;
#X msg 1142 243 \; clearBuffer2 bang;
#X obj 659 267 t b;
#X obj 708 187 t b;
#X msg 708 212 \; recordBuffer2next bang;
#X msg 659 291 \; recordBuffer1next bang;
#X obj 659 139 route 9 10 11 12, f 71;
#X obj 928 466 ctlout, f 16;
#X obj 928 408 expr ($i2>1)*40 \; $i1 \; 1;
#X obj 928 336 del 300;
#X msg 993 336 11 127;
#X msg 928 367 11 0;
#X obj 928 294 t b b;
#X obj 1121 349 del 300;
#X obj 1120 307 t b b;
#X msg 1214 339 12 127;
#X msg 1115 380 12 0;
#X msg 1146 489 \$1 \$2 1;
#X obj 1146 513 outlet;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 1 0 20 0;
#X connect 2 0 9 0;
#X connect 2 0 22 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 5 2 4 2;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 7 2 6 2;
#X connect 7 3 6 3;
#X connect 7 4 6 4;
#X connect 7 5 6 5;
#X connect 7 6 6 6;
#X connect 7 12 14 0;
#X connect 10 0 13 0;
#X connect 11 0 12 0;
#X connect 14 0 10 0;
#X connect 14 1 11 0;
#X connect 14 2 1 0;
#X connect 14 3 2 0;
#X connect 14 4 5 0;
#X connect 16 0 15 0;
#X connect 16 1 15 1;
#X connect 16 2 15 2;
#X connect 17 0 19 0;
#X connect 18 0 16 0;
#X connect 18 0 25 0;
#X connect 19 0 16 0;
#X connect 19 0 25 0;
#X connect 20 0 17 0;
#X connect 20 1 18 0;
#X connect 21 0 24 0;
#X connect 22 0 21 0;
#X connect 22 1 23 0;
#X connect 23 0 16 0;
#X connect 23 0 25 0;
#X connect 24 0 16 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X restore 870 211 pd livecontroller;
#N canvas 1040 154 1520 994 mmp_gui 0;
#X obj 43 48 inlet;
#X obj 274 71 receive fromGUI;
#X obj 70 893 send toGUI;
#X obj 72 446 receive ranges;
#X obj 891 625 r loopperiode_samples;
#X floatatom 892 668 12 0 0 0 - - -;
#X obj 72 499 route /audiobuffer;
#X obj 72 530 route range;
#X obj 72 562 unpack;
#X obj 73 731 / 1;
#X obj 170 694 / 1;
#X obj 73 794 pack f f;
#X obj 170 736 + 0.001;
#X obj 73 760 - 0.001;
#X obj 275 103 route list;
#X obj 274 139 route /abLCD;
#X obj 274 163 unpack f f f;
#X obj 303 219 * 1;
#X floatatom 335 269 10 0 0 0 - - -;
#X floatatom 363 307 10 0 0 0 - - -;
#X obj 226 316 f;
#X obj 299 316 f;
#X obj 222 225 sel 1 2;
#X obj 228 358 pack f f;
#X msg 225 398 \; ranges /audiobuffer range \$2 \$1;
#N canvas 1580 690 450 337 pipe 0;
#X obj 83 41 inlet;
#X obj 231 57 inlet;
#X obj 129 276 outlet;
#X obj 83 120 list;
#X obj 83 203 t b b l;
#X msg 61 234 0;
#X msg 192 187 1;
#X obj 83 165 spigot;
#X obj 320 163 loadbang;
#X obj 129 239 route list;
#X obj 192 163 del 10;
#X connect 0 0 3 0;
#X connect 1 0 10 1;
#X connect 3 0 7 0;
#X connect 4 0 10 0;
#X connect 4 1 5 0;
#X connect 4 2 9 0;
#X connect 5 0 7 1;
#X connect 6 0 7 1;
#X connect 7 0 4 0;
#X connect 8 0 6 0;
#X connect 9 0 2 0;
#X connect 10 0 6 0;
#X restore 930 321 pd pipe;
#X msg 70 838 list /abLCD clear \, list /abLCD paintrect \$1 1 \$2
0;
#X connect 0 0 2 0;
#X connect 1 0 14 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 1;
#X connect 5 0 9 1;
#X connect 5 0 17 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 13 0;
#X connect 10 0 12 0;
#X connect 11 0 26 0;
#X connect 12 0 11 1;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 22 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 17 0 20 1;
#X connect 17 0 21 1;
#X connect 18 0 19 0;
#X connect 20 0 23 1;
#X connect 21 0 23 0;
#X connect 22 0 20 0;
#X connect 22 1 21 0;
#X connect 23 0 24 0;
#X connect 26 0 2 0;
#X restore 727 641 pd mmp_gui;
#X obj 727 493 unpack s f;
#X obj 794 540 / 127;
#X obj 727 579 pack s f, f 10;
#X msg 603 486 list /k48 \$1;
#X msg 567 543 list /k47 \$1;
#X msg 597 519 list /k28 \$1;
#X msg 522 582 list /k27 \$1;
#X obj 67 239 loadbang;
#X obj 67 263 delay 100;
#X msg 67 305 27 40 \, 47 20 \, 28 127 \, 48 64 \, 21 63 5 \, 22 30
5 \, 23 30 5 \, 24 10 5 \, 25 63 5 \, 26 63 5 \, 41 63 5 \, 45 127
5 \, 46 127 5 \, 42 127 5 \, 43 20 5 \, 44 20 5 \, 21 127 1 \, 22 127
1 \, 23 20 1 \, 24 0 1 \, 25 0 1 \, 44 0 1 \, 45 0 1 \, 26 100 1,
f 9;
#X msg 727 452 /k\$3_\$1 \$2;
#X msg 964 476 \$3 \$1 \$2;
#X obj 960 513 route 1 5, f 97;
#X obj 962 559 route 9 10 11 12, f 36;
#X msg 1211 591 \$1 \$2 1;
#X msg 1314 589 \$1 \$2 5;
#X obj 727 410 receive toMMPkeys;
#X obj 1214 640 send toMMPkeys;
#X obj 869 245 send toMMPkeys;
#X text 928 583 9 10 11 and 12 are handled elsewhere;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 14 0 15 0;
#X connect 14 1 15 1;
#X connect 14 2 15 2;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 19 0 37 0;
#X connect 20 0 28 0;
#X connect 21 0 29 0;
#X connect 22 0 30 0;
#X connect 23 0 31 0;
#X connect 25 0 27 0;
#X connect 27 0 26 0;
#X connect 27 1 38 0;
#X connect 28 0 36 0;
#X connect 28 0 46 0;
#X connect 29 0 33 0;
#X connect 29 0 44 0;
#X connect 30 0 32 0;
#X connect 30 0 45 0;
#X connect 31 0 13 0;
#X connect 31 0 43 0;
#X connect 35 0 34 0;
#X connect 36 0 35 0;
#X connect 37 0 20 0;
#X connect 37 1 21 0;
#X connect 37 2 22 0;
#X connect 37 3 23 0;
#X connect 37 4 25 0;
#X connect 37 4 51 0;
#X connect 38 0 58 0;
#X connect 40 0 42 0;
#X connect 40 1 41 0;
#X connect 41 0 42 1;
#X connect 42 0 39 0;
#X connect 43 0 39 0;
#X connect 44 0 39 0;
#X connect 45 0 39 0;
#X connect 46 0 39 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 37 0;
#X connect 50 0 40 0;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 52 1 55 0;
#X connect 53 4 54 0;
#X connect 54 0 57 0;
#X connect 55 0 57 0;
#X connect 56 0 50 0;
#X restore 61 117 pd controls;
#X obj 214 609 r masterVolume;
#X msg 214 632 \$1 10;
#X obj 133 644 *~;
#X obj 214 656 line~;
#X text 834 89 lowpassfilter;
#X text 842 102 delay;
#X text 849 119 volume;
#X text 859 129 reverb;
#X text 869 139 panning;
#X obj 677 687 sig~;
#X floatatom 705 634 12 0 0 0 - - -;
#X msg 610 598 \$1 10;
#X obj 608 624 line~;
#X obj 588 654 *~;
#X obj 615 527 r loop2Volume;
#X obj 725 575 r loop2lopf;
#X obj 584 773 vcf~ 5;
#X obj 109 584 catch~ main;
#X obj 625 829 throw~ main;
#N canvas 224 442 863 737 delaypatch 0;
#X obj 76 101 catch~ delay;
#X obj 83 407 throw~ main;
#X obj 209 317 delread4~ \$0-delay;
#X obj 96 150 delwrite~ \$0-delay 1000;
#X floatatom 367 82 0 0 1000 0 - - -;
#X obj 366 139 line~;
#X obj 123 275 *~ 0.5;
#X obj 387 249 +~;
#X obj 521 126 osc~;
#X obj 366 114 pack 0 10;
#X obj 503 178 *~, f 4;
#X floatatom 527 29 5 0 0 0 - - -;
#X floatatom 580 165 5 0 0 0 - - -;
#X floatatom 186 213 5 0 0 0 - - -;
#X obj 232 425 hip~ 5;
#X msg 301 49 500;
#X obj 292 19 loadbang;
#X obj 241 225 loadbang;
#X msg 241 249 0.5;
#X obj 238 387 lop~ 6000;
#X obj 177 189 r delayFeedback;
#X obj 374 47 r delayTime;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 2 0 19 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 7 1;
#X connect 11 0 8 0;
#X connect 12 0 10 1;
#X connect 13 0 6 1;
#X connect 14 0 6 0;
#X connect 15 0 4 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 18 0 13 0;
#X connect 19 0 14 0;
#X connect 20 0 13 0;
#X connect 21 0 4 0;
#X restore 994 377 pd delaypatch;
#N canvas 0 23 1770 1174 grains 0;
#X obj 98 100 r periodictrigger;
#X obj 98 236 kns_playgrains /audiobuffer1;
#X obj 593 264 kns_playgrains /audiobuffer2;
#X obj 98 188 spigot;
#X obj 135 166 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 586 218 spigot;
#X obj 623 196 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 628 168 r buffer2grains;
#X obj 140 138 r buffer1grains;
#X msg 137 522 \$1 10;
#X obj 113 575 *~;
#X obj 137 546 line~;
#X obj 138 499 r grains1Volume;
#X obj 688 354 sig~;
#X floatatom 685 324 5 0 0 0 - - -;
#X obj 688 292 r grains2lopf;
#X obj 656 403 vcf~ 5;
#X msg 664 486 \$1 10;
#X obj 664 510 line~;
#X obj 644 540 *~;
#X obj 664 463 r grains2Volume;
#X obj 147 373 sig~;
#X floatatom 150 326 5 0 0 0 - - -;
#X obj 210 305 r grains1lopf;
#X obj 115 410 vcf~ 5;
#X obj 274 578 throw~ delay;
#X msg 305 487 \$1 10;
#X obj 281 540 *~;
#X obj 305 511 line~;
#X obj 306 464 r grains1Delay;
#X obj 790 536 throw~ delay;
#X msg 821 445 \$1 10;
#X obj 797 498 *~;
#X obj 821 469 line~;
#X obj 823 423 r grains2Delay;
#X obj 111 631 throw~ main;
#X obj 622 594 throw~ main;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 1 0 24 0;
#X connect 2 0 16 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 6 0 5 1;
#X connect 7 0 6 0;
#X connect 8 0 4 0;
#X connect 9 0 11 0;
#X connect 10 0 35 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 13 0 16 1;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 16 0 19 0;
#X connect 16 0 32 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 36 0;
#X connect 20 0 17 0;
#X connect 21 0 24 1;
#X connect 22 0 21 0;
#X connect 23 0 22 0;
#X connect 24 0 10 0;
#X connect 24 0 27 0;
#X connect 26 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 27 1;
#X connect 29 0 26 0;
#X connect 31 0 33 0;
#X connect 32 0 30 0;
#X connect 33 0 32 1;
#X connect 34 0 31 0;
#X restore 71 376 pd grains;
#N canvas 97 171 1441 1047 input-fx-output 0;
#X obj 81 52 receive~ adc1;
#X obj 210 255 sig~;
#X floatatom 210 225 10 0 0 0 - - -;
#X obj 102 343 vcf~ 5;
#X msg 110 675 \$1 10;
#X obj 110 699 line~;
#X obj 90 729 *~;
#X obj 331 458 throw~ delay;
#X msg 362 367 \$1 10;
#X obj 338 420 *~;
#X obj 362 391 line~;
#X obj 210 193 r livelopf;
#X obj 110 652 r livedryVolume;
#X obj 364 345 r liveDelay;
#X obj 463 618 kns_pitchshifter ps_two;
#X msg 262 679 \$1 10;
#X obj 262 703 line~;
#X obj 242 733 *~;
#X msg 471 695 \$1 10;
#X obj 471 719 line~;
#X obj 451 749 *~;
#X obj 262 656 r liveps1Volume;
#X obj 471 672 r liveps2Volume;
#X obj 260 621 kns_pitchshifter ps_one;
#X msg 256 868 \$1 10;
#X obj 256 892 line~;
#X obj 255 844 r liveThru;
#X obj 90 894 throw~ main;
#X obj 90 826 *~;
#X obj 613 547 r liveps2pitch;
#X obj 378 556 r liveps1pitch;
#X obj 424 851 throw~ adc1pdfx;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 0 9 0;
#X connect 3 0 23 0;
#X connect 3 0 14 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 28 0;
#X connect 6 0 31 0;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 11 0 2 0;
#X connect 12 0 4 0;
#X connect 13 0 8 0;
#X connect 14 0 20 0;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 28 0;
#X connect 17 0 31 0;
#X connect 18 0 19 0;
#X connect 19 0 20 1;
#X connect 20 0 28 0;
#X connect 20 0 31 0;
#X connect 21 0 15 0;
#X connect 22 0 18 0;
#X connect 23 0 17 0;
#X connect 24 0 25 0;
#X connect 25 0 28 1;
#X connect 26 0 24 0;
#X connect 28 0 27 0;
#X connect 29 0 14 1;
#X connect 30 0 23 1;
#X restore 316 374 pd input-fx-output;
#X text 879 149 presets;
#X text 890 178 spille med keyboard?;
#X floatatom 629 559 5 0 0 0 - - -;
#N canvas 627 212 1763 655 globalvariables 0;
#X floatatom 497 83 5 0 0 0 bpm - -;
#X floatatom 699 280 5 0 0 0 loopfrekvens_sekunder - loopfrekvens_sekunder
;
#X obj 743 124 t b f;
#X obj 698 256 expr ($f1/60)/$f2;
#X obj 497 26 r bpm;
#X floatatom 306 265 5 0 0 0 beatfrekvens_sekunder - beatfrekvens_sekunder
;
#X obj 305 241 expr ($f1/60);
#X floatatom 257 141 5 0 0 0 beatperiode_sekunder - beatperiode_sekunder
;
#X obj 256 117 expr (60/$f1);
#X floatatom 1029 316 5 0 0 0 loopperiode_sekunder - loopperiode_sekunder
;
#X obj 1028 292 expr (60/$f1)*$f2;
#X obj 1189 98 samplerate~;
#X obj 1189 71 r pd-dsp-started;
#X floatatom 1189 150 7 0 0 0 samplerate - samplerate;
#X obj 1325 368 * 44100;
#X obj 1325 318 r loopperiode_sekunder;
#X obj 1615 273 r samplerate;
#X obj 1615 297 t b f;
#X floatatom 1325 426 7 0 0 0 loopperiode_samples - loopperiode_samples
;
#X text 65 15 Number boxes send values;
#X obj 743 60 r beats_in_loop;
#X obj 1401 423 v loopperiode_samples;
#X obj 1006 434 v loopperiode_ms;
#X obj 1104 320 * 1000;
#X floatatom 1104 376 5 0 0 0 loopperiode_ms - loopperiode_ms;
#X obj 1325 395 change;
#X obj 1104 348 change;
#X obj 1189 124 change;
#X obj 497 56 change;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 0 0 10 0;
#X connect 2 0 3 0;
#X connect 2 0 10 0;
#X connect 2 1 3 1;
#X connect 2 1 10 1;
#X connect 3 0 1 0;
#X connect 4 0 28 0;
#X connect 6 0 5 0;
#X connect 8 0 7 0;
#X connect 10 0 9 0;
#X connect 10 0 23 0;
#X connect 11 0 27 0;
#X connect 12 0 11 0;
#X connect 14 0 25 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 14 0;
#X connect 17 1 14 1;
#X connect 20 0 2 0;
#X connect 23 0 26 0;
#X connect 25 0 18 0;
#X connect 26 0 24 0;
#X connect 27 0 13 0;
#X connect 28 0 0 0;
#X restore 61 154 pd globalvariables;
#X text 816 253 Still some mismatch with some of the record toggles!
;
#X connect 4 0 22 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 3 0;
#X connect 11 0 3 1;
#X connect 12 0 11 1;
#X connect 18 0 25 1;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 22 1;
#X connect 22 0 25 0;
#X connect 23 0 20 0;
#X connect 23 0 33 0;
#X connect 24 0 19 0;
#X connect 25 1 27 0;
#X connect 26 0 11 0;
