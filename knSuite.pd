#N canvas 757 105 1628 1033 12;
#N canvas 224 693 1499 425 pulse 0;
#X obj 55 121 phasor~;
#X obj 55 173 send~ pulse;
#X obj 55 44 r loopfrekvens_sekunder;
#X floatatom 74 74 5 0 0 0 - - -;
#X obj 337 212 threshold~ 0;
#X obj 337 187 fexpr~ $x1[-1] - $x1[0];
#X obj 337 237 send loopstart;
#X obj 668 86 *~;
#X obj 668 179 threshold~ 0;
#X obj 668 154 fexpr~ $x1[-1] - $x1[0];
#X obj 668 110 wrap~;
#X obj 668 204 send periodictrigger;
#X obj 686 51 receive subdivisions;
#X floatatom 617 56 5 0 0 0 - - -;
#X obj 589 105 +~ 0.02;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 0 0 14 0;
#X connect 2 0 0 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 7 1;
#X connect 13 0 14 1;
#X connect 14 0 7 0;
#X restore 63 72 pd pulse;
#N canvas 1319 59 970 903 test 0;
#X obj 37 685 throw~ test;
#X obj 71 33 receive~ pulse;
#X obj 37 449 *~;
#X obj 29 566 tabread4~ /audiobuffer1;
#X obj 104 416 r loopperiode_samples;
#X obj 287 566 tabread4~ /audiobuffer2;
#X obj 538 3 ctlin;
#X floatatom 243 195 5 0 0 0 - - -;
#X obj 56 251 +~;
#X obj 247 247 vline~;
#X obj 50 375 wrap~;
#X obj 249 139 -;
#N canvas 1009 1009 450 300 speedlim 0;
#X obj 46 8 inlet;
#X obj 46 154 spigot;
#X obj 46 202 outlet;
#X obj 81 89 timer;
#X obj 179 16 loadbang;
#X obj 61 64 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 81 113 >= 30;
#X obj 46 178 t list b, f 18;
#X obj 46 32 t list b;
#X connect 0 0 8 0;
#X connect 1 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 8 0 1 0;
#X connect 8 1 3 1;
#X restore 232 54 pd speedlim;
#X floatatom 234 23 5 0 0 0 - - -;
#X msg 243 218 \$1 150 \, 0 0 100;
#X obj 243 171 * 0.015;
#X obj 539 32 pack 0 0;
#X msg 539 56 \$2 \$1;
#X obj 63 344 +~;
#X obj 539 80 route 41 42;
#X floatatom 575 256 5 0 0 0 - - -;
#X floatatom 576 115 5 0 0 0 - - -;
#X obj 576 138 / 127;
#X obj 576 162 - 0.5;
#X msg 575 279 \$1 100;
#X obj 574 311 line~;
#X text 277 104 scratching;
#X text 630 280 loop_offset;
#X obj 576 186 expr abs($f1)*$f1/0.5;
#X obj 575 220 expr if(abs($f1)>0.005 \, $f1 \, 0);
#X obj 233 92 t f f;
#X obj 200 701 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 417 704 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 49 496 *~;
#X obj 249 487 *~;
#X obj 205 673 r buffer1loop;
#X obj 422 676 r buffer2loop;
#X obj 140 784 snapshot~;
#X obj 113 750 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 140 808 12 0 0 0 - - -;
#X connect 1 0 8 0;
#X connect 2 0 34 0;
#X connect 2 0 33 0;
#X connect 3 0 0 0;
#X connect 4 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 16 0;
#X connect 6 1 16 1;
#X connect 7 0 14 0;
#X connect 8 0 18 0;
#X connect 9 0 8 1;
#X connect 10 0 2 0;
#X connect 11 0 15 0;
#X connect 12 0 30 0;
#X connect 13 0 12 0;
#X connect 14 0 9 0;
#X connect 15 0 7 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 18 0 10 0;
#X connect 19 0 13 0;
#X connect 19 1 21 0;
#X connect 20 0 24 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 28 0;
#X connect 24 0 25 0;
#X connect 25 0 18 1;
#X connect 28 0 29 0;
#X connect 29 0 20 0;
#X connect 30 0 11 1;
#X connect 30 1 11 0;
#X connect 31 0 33 1;
#X connect 32 0 34 1;
#X connect 33 0 37 0;
#X connect 33 0 3 0;
#X connect 34 0 5 0;
#X connect 35 0 31 0;
#X connect 36 0 32 0;
#X connect 37 0 39 0;
#X connect 38 0 37 0;
#X restore 1211 142 pd test;
#N canvas 376 474 1428 626 buffersetup 0;
#X obj 36 40 receive loopperiode_samples;
#X msg 36 98 \; /audiobuffer1 resize \$1;
#X obj 36 215 table /audiobuffer1 88200;
#X msg 514 98 \; /audiobuffer2 resize \$1;
#X obj 539 213 table /audiobuffer2 88200;
#X obj 927 182 soundfiler;
#X text 968 111 load sound file;
#X obj 927 125 symbol;
#N canvas 0 23 644 287 select-sample 0;
#X msg 62 91 piano.wav;
#X msg 158 91 melodius.wav;
#X msg 255 91 beat.wav;
#X msg 351 91 humanistiske.wav;
#X obj 62 63 sel 0 1 2 3 4, f 81;
#X msg 461 91 bass.wav;
#X obj 62 192 outlet;
#X obj 62 27 inlet;
#X connect 0 0 6 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 4 2 2 0;
#X connect 4 3 3 0;
#X connect 4 4 5 0;
#X connect 5 0 6 0;
#X connect 7 0 4 0;
#X restore 927 88 pd select-sample;
#X msg 927 148 read \$1 /audiobuffer2;
#X msg 540 316 \; /audiobuffer2 const 0;
#X msg 1200 85 100bpm44p1k2bars.wav;
#X msg 1202 122 100bpm48k2bars.wav;
#X msg 1198 156 120bpm44p1k2bars.wav;
#X msg 1205 206 120bpm48k2bars.wav;
#X obj 1018 288 adc~, f 7;
#X msg 32 323 \; /audiobuffer1 const 0;
#X obj 26 2616 vsnapshot~;
#X obj 26 2568 threshold~;
#X obj 36 2626 vsnapshot~;
#X obj 36 2578 threshold~;
#X obj 46 2636 vsnapshot~;
#X obj 46 2588 threshold~;
#X obj 56 2646 vsnapshot~;
#X obj 56 2598 threshold~;
#X text 281 458 toggle record;
#X obj 262 460 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 532 467 kns_recordToBuffer /audiobuffer2;
#X text 772 436 toggle record;
#X obj 753 439 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 41 500 kns_recordToBuffer /audiobuffer1;
#X obj 753 414 r recordBuffer2;
#X obj 262 433 r recordBuffer1;
#X obj 89 300 r clearBuffer1;
#X obj 540 291 r clearBuffer2;
#X obj 45 468 receive~ adc1;
#X obj 1010 354 send~ adc1;
#X obj 531 428 receive~ adc2;
#X obj 1066 320 send~ adc2;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 7 0;
#X connect 15 0 36 0;
#X connect 15 1 38 0;
#X connect 26 0 30 1;
#X connect 29 0 27 1;
#X connect 31 0 29 0;
#X connect 32 0 26 0;
#X connect 33 0 16 0;
#X connect 34 0 10 0;
#X connect 35 0 30 0;
#X connect 37 0 27 0;
#X restore 285 65 pd buffersetup;
#N canvas 467 463 1763 655 globalvariables 1;
#X floatatom 497 83 5 0 0 0 bpm - -;
#X floatatom 699 280 5 0 0 0 loopfrekvens_sekunder - loopfrekvens_sekunder
;
#X obj 743 124 t b f;
#X obj 698 256 expr ($f1/60)/$f2;
#X obj 499 61 r bpm;
#X floatatom 306 265 5 0 0 0 beatfrekvens_sekunder - beatfrekvens_sekunder
;
#X obj 305 241 expr ($f1/60);
#X floatatom 257 141 5 0 0 0 beatperiode_sekunder - beatperiode_sekunder
;
#X obj 256 117 expr (60/$f1);
#X floatatom 1029 316 5 0 0 0 loopperiode_sekunder - loopperiode_sekunder
;
#X obj 1028 292 expr (60/$f1)*$f2;
#X obj 1189 98 samplerate~;
#X obj 1189 71 r pd-dsp-started;
#X floatatom 1190 139 7 0 0 0 samplerate - samplerate;
#X obj 1325 368 * 44100;
#X obj 1325 318 r loopperiode_sekunder;
#X obj 1615 273 r samplerate;
#X obj 1615 297 t b f;
#X floatatom 1325 426 7 0 0 0 loopperiode_samples - loopperiode_samples
;
#X text 65 15 Number boxes send values;
#X obj 743 60 r beats_in_loop;
#X obj 1401 423 v loopperiode_samples;
#X obj 1006 434 v loopperiode_ms;
#X obj 1104 320 * 1000;
#X floatatom 1105 357 5 0 0 0 loopperiode_ms - loopperiode_ms;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 0 0 10 0;
#X connect 2 0 3 0;
#X connect 2 0 10 0;
#X connect 2 1 3 1;
#X connect 2 1 10 1;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 6 0 5 0;
#X connect 8 0 7 0;
#X connect 10 0 9 0;
#X connect 10 0 23 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 18 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 14 0;
#X connect 17 1 14 1;
#X connect 20 0 2 0;
#X connect 23 0 24 0;
#X restore 61 154 pd globalvariables;
#X obj 1096 1082 dac~;
#X obj 1300 506 catch~ test;
#X text 856 47 todo (file read samplerate);
#N canvas 396 40 826 683 window-stuff 0;
#X obj 83 96 + 1;
#X obj 103 278 route 1;
#X obj 103 254 pack, f 7;
#X obj 142 375 pack, f 8;
#X msg 142 303 \$2;
#X obj 142 353 > 383;
#X obj 103 232 < 129;
#X obj 142 400 route 1;
#X obj 181 424 t b;
#X msg 153 477 1;
#X obj 103 442 / 511;
#X obj 103 481 * 2;
#X obj 116 151 < 512;
#X obj 83 178 spigot;
#X obj 84 10 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 2 133 del 1;
#X obj 169 69 sel 0;
#X msg 169 116 -1;
#X obj 83 59 i -1;
#X obj 169 93 del 1;
#X obj 103 566 expr if ($i2 \, sqrt($f1) \, $f1);
#X obj 264 546 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 283 546 toggle to enable sqrt of hanning;
#X text 102 9 bang to write window;
#X obj 83 207 t b f f f, f 13;
#X obj 83 124 t f f;
#X obj 142 326 t f f, f 8;
#X obj 102 606 tabwrite window;
#N canvas 0 22 635 415 (subpatch) 0;
#X array window 512 float 1;
#A 0 0 0.000151157 0.00060457 0.00135997 0.00241691 0.00377476 0.00543267
0.00738966 0.00964454 0.012196 0.0150424 0.0181821 0.0216131 0.0253334
0.0293408 0.0336328 0.0382068 0.04306 0.0481896 0.0535924 0.0592651
0.0652044 0.0714067 0.077868 0.0845847 0.0915525 0.0987674 0.106225
0.113921 0.12185 0.130007 0.138389 0.146989 0.155803 0.164825 0.174049
0.183471 0.193084 0.202882 0.212861 0.223012 0.233332 0.243813 0.254448
0.265232 0.276158 0.28722 0.29841 0.309722 0.321149 0.332684 0.344321
0.356051 0.367869 0.379766 0.391736 0.403772 0.415866 0.428011 0.440199
0.452423 0.464677 0.476951 0.48924 0.501535 0.513829 0.526115 0.538385
0.550631 0.562847 0.575025 0.587158 0.599238 0.611258 0.623211 0.635089
0.646886 0.658593 0.670205 0.681714 0.693113 0.704395 0.715554 0.726582
0.737473 0.748221 0.758818 0.76926 0.779538 0.789647 0.799581 0.809334
0.818899 0.828272 0.837447 0.846417 0.855178 0.863724 0.87205 0.880151
0.888023 0.895659 0.903057 0.91021 0.917116 0.923769 0.930166 0.936303
0.942176 0.947782 0.953117 0.958178 0.962961 0.967465 0.971686 0.975622
0.979271 0.982629 0.985696 0.988469 0.990946 0.993127 0.995009 0.996592
0.997875 0.998857 0.999537 0.999915 0.999991 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 0.999915 0.999537 0.998857 0.997876 0.996593 0.99501 0.993128
0.990948 0.988471 0.985698 0.982631 0.979273 0.975625 0.971689 0.967468
0.962965 0.958181 0.95312 0.947786 0.94218 0.936307 0.93017 0.923774
0.917121 0.910215 0.903062 0.895665 0.888029 0.880157 0.872056 0.86373
0.855184 0.846424 0.837454 0.828279 0.818907 0.80934 0.799588 0.789654
0.779545 0.769267 0.758826 0.748229 0.737482 0.72659 0.715562 0.704403
0.693121 0.681723 0.670214 0.658602 0.646895 0.635098 0.62322 0.611267
0.599247 0.587167 0.575035 0.562857 0.55064 0.538393 0.526124 0.513838
0.501544 0.489249 0.476961 0.464686 0.452432 0.440208 0.42802 0.415875
0.403781 0.391746 0.379775 0.367877 0.35606 0.344329 0.332693 0.321158
0.309731 0.298419 0.287228 0.276166 0.26524 0.254456 0.24382 0.23334
0.22302 0.212868 0.202889 0.193091 0.183478 0.174056 0.164831 0.15581
0.146996 0.138395 0.130013 0.121855 0.113926 0.106231 0.098773 0.091558
0.0845895 0.0778727 0.0714112 0.0652089 0.0592695 0.0535966 0.0481936
0.0430635 0.0382101 0.0336359 0.0293438 0.0253363 0.0216157 0.0181845
0.0150445 0.0121979 0.00964627 0.00739118 0.00543401 0.00377586 0.0024178
0.00136065 0.000604987 0.000151366 0;
#X coords 0 1 511 0 100 50 1 0 0;
#X restore 292 84 graph;
#X obj 369 428 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));
#X obj 103 516 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));
#X connect 0 0 18 1;
#X connect 0 0 25 0;
#X connect 1 0 10 0;
#X connect 1 1 4 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 26 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 7 0 10 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 27 0;
#X connect 10 0 11 0;
#X connect 11 0 30 0;
#X connect 12 0 13 1;
#X connect 12 0 16 0;
#X connect 13 0 24 0;
#X connect 14 0 18 0;
#X connect 15 0 18 0;
#X connect 16 0 19 0;
#X connect 17 0 18 1;
#X connect 18 0 0 0;
#X connect 19 0 17 0;
#X connect 20 0 27 0;
#X connect 21 0 20 1;
#X connect 24 0 15 0;
#X connect 24 1 6 0;
#X connect 24 2 2 1;
#X connect 24 3 27 1;
#X connect 25 0 13 0;
#X connect 25 1 12 0;
#X connect 26 0 5 0;
#X connect 26 1 3 1;
#X connect 30 0 20 0;
#X restore 285 185 pd window-stuff;
#N canvas 996 408 1301 670 control_ranges 0;
#X obj 83 20 ctlin;
#X obj 80 61 pack 0 0 0;
#X msg 80 85 \$3 \$2 \$1;
#X floatatom 79 291 5 0 0 0 - - -;
#X obj 80 328 expr loopperiode_samples * $f1/127;
#X floatatom 359 242 5 0 0 0 - - -;
#X floatatom 359 321 12 0 0 0 - - -;
#X obj 360 279 expr loopperiode_samples * $f1/127/2;
#X obj 359 344 t b f;
#X obj 80 415 expr $f1-$f2 \; $f1+$f2;
#X obj 168 469 clip 1;
#X obj 258 405 r loopperiode_samples;
#X obj 258 429 - 1;
#X obj 80 471 clip 1;
#X obj 80 510 pack 0 0;
#X msg 80 534 \; ranges /audiobuffer range \$1 \$2;
#X floatatom 665 287 5 0 0 0 - - -;
#X floatatom 945 238 5 0 0 0 - - -;
#X floatatom 945 317 12 0 0 0 - - -;
#X obj 945 340 t b f;
#X obj 666 411 expr $f1-$f2 \; $f1+$f2;
#X obj 666 506 pack 0 0;
#X obj 79 146 route 21 22 23 24, f 140;
#X msg 666 530 \; ranges /durationrange range \$1 \$2;
#X obj 869 500 print;
#X obj 844 401 r loopperiode_ms;
#X floatatom 692 373 5 0 0 0 - - -;
#X obj 666 467 clip 1 1000;
#X obj 755 465 clip 1 1000;
#X floatatom 888 440 5 0 0 0 - - -;
#X obj 666 324 expr loopperiode_ms * pow(($f1/127) \, 2);
#X obj 946 275 expr loopperiode_ms * $f1/127/10;
#X obj 80 114 route 5;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 1 2;
#X connect 1 0 2 0;
#X connect 2 0 32 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 13 0;
#X connect 9 1 10 0;
#X connect 10 0 14 1;
#X connect 11 0 12 0;
#X connect 12 0 10 2;
#X connect 12 0 13 2;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 16 0 30 0;
#X connect 17 0 31 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 24 0;
#X connect 20 0 27 0;
#X connect 20 1 28 0;
#X connect 21 0 23 0;
#X connect 21 0 24 0;
#X connect 22 0 3 0;
#X connect 22 1 5 0;
#X connect 22 2 16 0;
#X connect 22 3 17 0;
#X connect 25 0 27 2;
#X connect 25 0 28 2;
#X connect 25 0 29 0;
#X connect 27 0 21 0;
#X connect 27 0 24 0;
#X connect 28 0 21 1;
#X connect 30 0 20 0;
#X connect 30 0 26 0;
#X connect 31 0 18 0;
#X connect 32 0 22 0;
#X restore 285 108 pd control_ranges;
#N canvas 1055 514 1301 670 control_record 1;
#X obj 84 3 ctlin;
#X obj 81 44 pack 0 0 0;
#X msg 80 85 \$3 \$2 \$1;
#X floatatom 77 325 5 0 0 0 - - -;
#X floatatom 225 296 5 0 0 0 - - -;
#X obj 77 366 == 127;
#X obj 228 336 == 127;
#X msg 77 390 \; recordBuffer1 \$1;
#X msg 212 387 \; recordBuffer2 \$1;
#X obj 306 290 t b;
#X msg 306 314 \; clearBuffer1 bang;
#X obj 444 240 t b;
#X msg 444 264 \; clearBuffer2 bang;
#X obj 79 114 route 5;
#X obj 85 153 route 9 10 11 12 13 14 15 16, f 140;
#X obj 79 548 ctlout;
#X msg 49 510 \$2 \$1 5;
#X obj 190 465 expr;
#X obj 194 620 ctlout;
#X obj 188 567 pack 0 0;
#X msg 196 594 \$2 \$1 5;
#X obj 190 518 expr if (\$1 < 17 \, if(\$1 > 8 \, \$1 \, 1) \, 2) \;
if (\$1 < 17 \, if(\$1 > 8 \, \$2 \, 0) \, 0);
#X msg 549 342 \; buffer1grains \$1;
#X msg 687 292 \; buffer2grains \$1;
#X msg 845 328 \; buffer1loop \$1;
#X msg 983 277 \; buffer2loop \$1;
#X obj 834 241 > 0;
#X obj 926 211 > 0;
#X obj 736 225 > 0;
#X obj 602 218 > 0;
#X obj 1071 215 print;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 1 2;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 14 0;
#X connect 13 0 16 0;
#X connect 14 0 3 0;
#X connect 14 1 4 0;
#X connect 14 2 9 0;
#X connect 14 3 11 0;
#X connect 14 4 29 0;
#X connect 14 5 28 0;
#X connect 14 6 26 0;
#X connect 14 7 27 0;
#X connect 14 8 30 0;
#X connect 16 0 15 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 21 1 19 1;
#X connect 26 0 24 0;
#X connect 27 0 25 0;
#X connect 28 0 23 0;
#X connect 29 0 22 0;
#X restore 284 143 pd control_record;
#N canvas 156 23 2404 860 controls 1;
#X floatatom 396 82 5 0 0 0 subdivisions - subdivisions;
#X msg 396 46 32;
#X obj 396 21 loadbang;
#X msg 432 47 64;
#X msg 470 47 16;
#X msg 510 46 24;
#X msg 547 46 12;
#X floatatom 62 76 5 0 0 0 bpm - bpm;
#X floatatom 245 79 5 1 64 0 beats_in_loop - beats_in_loop;
#X obj 245 22 loadbang;
#X msg 245 46 8;
#X obj 62 24 loadbang;
#X msg 62 48 120;
#X floatatom 722 87 5 0 1 0 masterVolume - masterVolume;
#X obj 722 30 loadbang;
#X msg 722 54 0.5;
#X obj 134 143 ctlin;
#X obj 131 184 pack 0 0 0;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 1017 170 pd scalefilterfreq;
#X obj 1808 182 print;
#X text 1137 266 felles: main volum delay time delay feedback live
thru?;
#X msg 1200 32 -12 -5 7 12;
#X obj 1206 61 array set valid_pitchshifts;
#X obj 1187 127 array define -k -yrange -12 12 valid_pitchshifts 4
;
#A 0 -12 -5 7 12;
#X msg 336 152 \$2 \$1 \$3;
#X msg 335 213 \$1;
#X msg 394 215 \$1;
#X msg 455 214 \$1;
#X msg 523 212 \$1;
#X text 371 236 fire globale/felles;
#X msg 720 237 \$3 \$1 \$2;
#N canvas 0 23 1295 769 samplingcontroller 0;
#X obj 52 33 inlet;
#X floatatom 35 298 5 0 1 0 grains1Volume - grains1Volume;
#X obj 35 241 loadbang;
#X msg 35 265 0.5;
#X floatatom 98 357 5 1 64 0 grains2Volume - grains2Volume;
#X obj 98 300 loadbang;
#X msg 98 324 0.5;
#X floatatom 175 390 5 0 1 0 loop1Volume - loop1Volume;
#X obj 175 333 loadbang;
#X msg 175 357 0.5;
#X floatatom 255 444 5 0 1 0 loop2Volume - loop2Volume;
#X obj 255 387 loadbang;
#X msg 255 411 0.5;
#X obj 54 104 / 127;
#X obj 100 104 / 127;
#X obj 149 105 / 127;
#X obj 195 106 / 127;
#X floatatom 361 611 5 0 1 0 grains1lopf - grains1lopf;
#X obj 361 554 loadbang;
#X msg 361 578 0.5;
#X floatatom 445 476 5 1 64 0 grains2lopf - grains2lopf;
#X obj 445 419 loadbang;
#X msg 445 443 0.5;
#X floatatom 488 338 5 0 1 0 loop1lopf - loop1lopf;
#X obj 488 281 loadbang;
#X msg 488 305 0.5;
#X floatatom 617 478 5 0 1 0 loop2lopf - loop2lopf;
#X obj 617 421 loadbang;
#X msg 617 445 0.5;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 355 512 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 429 373 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 520 234 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 632 357 pd scalefilterfreq;
#X obj 54 79 route 25 26 27 28 45 46 47 48 43 44, f 117;
#X floatatom 763 212 5 0 1 0 grains1Delay - grains1Delay;
#X obj 762 155 loadbang;
#X msg 762 179 0.5;
#X floatatom 825 271 5 1 64 0 grains2Delay - grains2Delay;
#X obj 825 214 loadbang;
#X msg 825 238 0.5;
#X obj 719 115 / 127;
#X obj 765 116 / 127;
#X connect 0 0 33 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 1 0;
#X connect 14 0 4 0;
#X connect 15 0 7 0;
#X connect 16 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 29 0 17 0;
#X connect 30 0 20 0;
#X connect 31 0 23 0;
#X connect 32 0 26 0;
#X connect 33 0 13 0;
#X connect 33 1 14 0;
#X connect 33 2 15 0;
#X connect 33 3 16 0;
#X connect 33 4 29 0;
#X connect 33 5 30 0;
#X connect 33 6 31 0;
#X connect 33 7 32 0;
#X connect 33 8 40 0;
#X connect 33 9 41 0;
#X connect 35 0 36 0;
#X connect 36 0 34 0;
#X connect 38 0 39 0;
#X connect 39 0 37 0;
#X connect 40 0 34 0;
#X connect 41 0 37 0;
#X restore 710 496 pd samplingcontroller;
#X obj 732 327 route 5 1;
#N canvas 138 71 1295 769 livecontroller 1;
#X obj 52 33 inlet;
#X floatatom 35 298 5 0 1 0 grains1Volume - grains1Volume;
#X obj 35 241 loadbang;
#X msg 35 265 0.5;
#X floatatom 98 357 5 1 64 0 grains2Volume - grains2Volume;
#X obj 98 300 loadbang;
#X msg 98 324 0.5;
#X floatatom 175 390 5 0 1 0 loop1Volume - loop1Volume;
#X obj 175 333 loadbang;
#X msg 175 357 0.5;
#X floatatom 255 444 5 0 1 0 loop2Volume - loop2Volume;
#X obj 255 387 loadbang;
#X msg 255 411 0.5;
#X obj 54 104 / 127;
#X obj 100 104 / 127;
#X obj 149 105 / 127;
#X obj 195 106 / 127;
#X floatatom 361 611 5 0 1 0 grains1lopf - grains1lopf;
#X obj 361 554 loadbang;
#X msg 361 578 0.5;
#X floatatom 445 476 5 1 64 0 grains2lopf - grains2lopf;
#X obj 445 419 loadbang;
#X msg 445 443 0.5;
#X floatatom 488 338 5 0 1 0 loop1lopf - loop1lopf;
#X obj 488 281 loadbang;
#X msg 488 305 0.5;
#X floatatom 617 478 5 0 1 0 loop2lopf - loop2lopf;
#X obj 617 421 loadbang;
#X msg 617 445 0.5;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 355 512 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 429 373 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 520 234 pd scalefilterfreq;
#N canvas 0 23 450 300 scalefilterfreq 0;
#X obj 49 37 inlet;
#X obj 42 197 outlet;
#X obj 49 61 / 127;
#X obj 49 97 *;
#X obj 49 121 * 20000;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 632 357 pd scalefilterfreq;
#X obj 54 79 route 25 26 27 28 45 46 47 48 43 44, f 117;
#X floatatom 763 212 5 0 1 0 grains1Delay - grains1Delay;
#X obj 762 155 loadbang;
#X msg 762 179 0.5;
#X floatatom 825 271 5 1 64 0 grains2Delay - grains2Delay;
#X obj 825 214 loadbang;
#X msg 825 238 0.5;
#X obj 719 115 / 127;
#X obj 765 116 / 127;
#X connect 0 0 33 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 1 0;
#X connect 14 0 4 0;
#X connect 15 0 7 0;
#X connect 16 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 29 0 17 0;
#X connect 30 0 20 0;
#X connect 31 0 23 0;
#X connect 32 0 26 0;
#X connect 33 0 13 0;
#X connect 33 1 14 0;
#X connect 33 2 15 0;
#X connect 33 3 16 0;
#X connect 33 4 29 0;
#X connect 33 5 30 0;
#X connect 33 6 31 0;
#X connect 33 7 32 0;
#X connect 33 8 40 0;
#X connect 33 9 41 0;
#X connect 35 0 36 0;
#X connect 36 0 34 0;
#X connect 38 0 39 0;
#X connect 39 0 37 0;
#X connect 40 0 34 0;
#X connect 41 0 37 0;
#X restore 756 447 pd livecontroller;
#X obj 259 291 / 127;
#X obj 389 382 / 127;
#X obj 449 313 / 127;
#X obj 523 270 / 127;
#X obj 449 337 s liveThru;
#X obj 389 406 s delayFeedback;
#X obj 261 383 s delayTime;
#X obj 258 350 + 1;
#X obj 260 323 * 800;
#X obj 335 187 route 27 47 28 48, f 36;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 16 2 17 2;
#X connect 17 0 24 0;
#X connect 21 0 22 0;
#X connect 24 0 43 0;
#X connect 25 0 34 0;
#X connect 26 0 35 0;
#X connect 27 0 36 0;
#X connect 28 0 37 0;
#X connect 30 0 32 0;
#X connect 32 0 31 0;
#X connect 32 1 33 0;
#X connect 34 0 42 0;
#X connect 35 0 39 0;
#X connect 36 0 38 0;
#X connect 37 0 13 0;
#X connect 41 0 40 0;
#X connect 42 0 41 0;
#X connect 43 0 25 0;
#X connect 43 1 26 0;
#X connect 43 2 27 0;
#X connect 43 3 28 0;
#X connect 43 4 30 0;
#X restore 61 117 pd controls;
#X obj 1177 985 r masterVolume;
#X msg 1177 1008 \$1 10;
#X obj 1096 1020 *~;
#X obj 1177 1032 line~;
#X text 834 89 lowpassfilter;
#X text 842 102 delay;
#X text 849 119 volume;
#X text 859 129 reverb;
#X text 869 139 panning;
#X obj 1386 667 sig~;
#X floatatom 1382 613 12 0 0 0 - - -;
#X msg 1319 578 \$1 10;
#X obj 1317 604 line~;
#X obj 1297 634 *~;
#X obj 1330 548 r loop2Volume;
#X obj 1449 600 r loop2lopf;
#X obj 1293 753 vcf~ 5;
#X obj 1072 960 catch~ main;
#X obj 1334 809 throw~ main;
#N canvas 137 332 863 737 delaypatch 0;
#X obj 76 101 catch~ delay;
#X obj 83 407 throw~ main;
#X obj 209 317 delread4~ \$0-delay;
#X obj 96 150 delwrite~ \$0-delay 1000;
#X floatatom 367 82 0 0 1000 0 - - -;
#X obj 366 139 line~;
#X obj 123 275 *~ 0.5;
#X obj 387 249 +~;
#X obj 521 126 osc~;
#X obj 366 114 pack 0 10;
#X obj 503 178 *~, f 4;
#X floatatom 527 29 5 0 0 0 - - -;
#X floatatom 580 165 5 0 0 0 - - -;
#X floatatom 186 213 5 0 0 0 - - -;
#X obj 232 425 hip~ 5;
#X msg 301 49 500;
#X obj 292 19 loadbang;
#X obj 241 225 loadbang;
#X msg 241 249 0.5;
#X obj 238 387 lop~ 6000;
#X obj 177 189 r delayFeedback;
#X obj 374 47 r delayTime;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 2 0 19 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 7 1;
#X connect 11 0 8 0;
#X connect 12 0 10 1;
#X connect 13 0 6 1;
#X connect 14 0 6 0;
#X connect 15 0 4 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 18 0 13 0;
#X connect 19 0 14 0;
#X connect 20 0 13 0;
#X connect 21 0 4 0;
#X restore 995 377 pd delaypatch;
#N canvas 0 23 1770 1174 grains 0;
#X obj 98 100 r periodictrigger;
#X obj 98 236 kns_playgrains /audiobuffer1;
#X obj 593 264 kns_playgrains /audiobuffer2;
#X obj 98 188 spigot;
#X obj 135 166 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 586 218 spigot;
#X obj 623 196 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 628 168 r buffer2grains;
#X obj 140 138 r buffer1grains;
#X msg 137 522 \$1 10;
#X obj 113 575 *~;
#X obj 137 546 line~;
#X obj 138 499 r grains1Volume;
#X obj 688 354 sig~;
#X floatatom 685 324 5 0 0 0 - - -;
#X obj 688 292 r grains2lopf;
#X obj 656 403 vcf~ 5;
#X msg 664 486 \$1 10;
#X obj 664 510 line~;
#X obj 644 540 *~;
#X obj 664 463 r grains2Volume;
#X obj 147 373 sig~;
#X floatatom 150 326 5 0 0 0 - - -;
#X obj 210 305 r grains1lopf;
#X obj 115 410 vcf~ 5;
#X obj 274 578 throw~ delay;
#X msg 305 487 \$1 10;
#X obj 281 540 *~;
#X obj 305 511 line~;
#X obj 306 464 r grains1Delay;
#X obj 790 536 throw~ delay;
#X msg 821 445 \$1 10;
#X obj 797 498 *~;
#X obj 821 469 line~;
#X obj 823 423 r grains2Delay;
#X obj 111 631 throw~ main;
#X obj 622 594 throw~ main;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 1 0 24 0;
#X connect 2 0 16 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 6 0 5 1;
#X connect 7 0 6 0;
#X connect 8 0 4 0;
#X connect 9 0 11 0;
#X connect 10 0 35 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 13 0 16 1;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 16 0 19 0;
#X connect 16 0 32 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 36 0;
#X connect 20 0 17 0;
#X connect 21 0 24 1;
#X connect 22 0 21 0;
#X connect 23 0 22 0;
#X connect 24 0 10 0;
#X connect 24 0 27 0;
#X connect 26 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 27 1;
#X connect 29 0 26 0;
#X connect 31 0 33 0;
#X connect 32 0 30 0;
#X connect 33 0 32 1;
#X connect 34 0 31 0;
#X restore 71 376 pd grains;
#N canvas 267 169 1441 1047 input-fx-output 1;
#X obj 81 52 receive~ adc1;
#X obj 210 255 sig~;
#X floatatom 210 225 5 0 0 0 - - -;
#X obj 102 343 vcf~ 5;
#X msg 110 675 \$1 10;
#X obj 110 699 line~;
#X obj 90 729 *~;
#X obj 331 458 throw~ delay;
#X msg 362 367 \$1 10;
#X obj 338 420 *~;
#X obj 362 391 line~;
#X obj 90 826 throw~ main;
#X obj 210 193 r livelopf;
#X obj 110 652 r livedryVolume;
#X obj 364 345 r liveDelay;
#X obj 463 618 kns_pitchshifter ps_two;
#X msg 262 679 \$1 10;
#X obj 262 703 line~;
#X obj 242 733 *~;
#X msg 471 695 \$1 10;
#X obj 471 719 line~;
#X obj 451 749 *~;
#X msg 640 564 0.3;
#X obj 262 656 r liveps1Volume;
#X obj 471 672 r liveps2Volume;
#X obj 260 621 kns_pitchshifter ps_one;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 0 9 0;
#X connect 3 0 25 0;
#X connect 3 0 15 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 11 0;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 12 0 2 0;
#X connect 13 0 4 0;
#X connect 14 0 8 0;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 18 0 11 0;
#X connect 19 0 20 0;
#X connect 20 0 21 1;
#X connect 21 0 11 0;
#X connect 22 0 16 0;
#X connect 22 0 4 0;
#X connect 23 0 16 0;
#X connect 24 0 19 0;
#X connect 25 0 18 0;
#X restore 317 374 pd input-fx-output;
#X text 879 149 presets;
#X text 890 178 spille med keyboard?;
#X connect 5 0 24 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 4 0;
#X connect 13 0 4 1;
#X connect 14 0 13 1;
#X connect 20 0 27 1;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 24 1;
#X connect 24 0 27 0;
#X connect 25 0 22 0;
#X connect 26 0 21 0;
#X connect 27 1 29 0;
#X connect 28 0 13 0;
